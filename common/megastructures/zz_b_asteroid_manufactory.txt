########################################################################################################################
# player gateway mega
asteroid_manufactory_0 = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry_construction
		placement_script = megastructures/asteroid_industry/placement/asteroid_industry_player
		potential = "is_ai = no"
		ai_weight = ""
		on_build_complete = "
			from = {
				country_event = {
					id = giga_dialog.10901
					scopes = {
						from = root.fromfrom
					}
				}
			}
		"
	}
}

########################################################################################################################
# consumer goods
asteroid_manufactory_ai_consumer_goods = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry_construction
		placement_script = megastructures/asteroid_industry/placement/asteroid_industry_consumer_goods
		potential = "is_ai = yes"
		ai_weight = "
			mult = value:giga_ai_output|RESOURCE|consumer_goods|AMOUNT|200|
			modifier = { factor = 0		from = { country_uses_consumer_goods = no } }
			modifier = { factor = 0		from = { is_anglers_empire = yes } }
		"
		on_build_complete = "upgrade_megastructure_to = asteroid_manufactory_platform_consumer_goods finish_upgrade = yes"
	}
}
asteroid_manufactory_platform_consumer_goods = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry_platform
		upgrade_from = asteroid_manufactory_ai_consumer_goods
	}
}
asteroid_manufactory_consumer_goods = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry
		upgrades_from = asteroid_manufactory_platform_consumer_goods
		modifier = ""
	}
}

########################################################################################################################
# food
asteroid_manufactory_ai_food = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry_construction
		placement_script = megastructures/asteroid_industry/placement/asteroid_industry_food
		potential = "is_ai = yes"
		ai_weight = "
			mult = value:giga_ai_output|RESOURCE|food|AMOUNT|200|
			modifier = { factor = 0		from = { country_uses_food = no } }
			modifier = { factor = 4		from = { is_anglers_empire = yes } }
		"
		on_build_complete = "upgrade_megastructure_to = asteroid_manufactory_platform_food finish_upgrade = yes"
	}
}
asteroid_manufactory_platform_food = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry_platform
		upgrade_from = asteroid_manufactory_ai_food
	}
}
asteroid_manufactory_food = {
	inline_script = {
		script = megastructures/asteroid_industry/asteroid_industry
		upgrades_from = asteroid_manufactory_platform_food
		modifier = ""
	}
}