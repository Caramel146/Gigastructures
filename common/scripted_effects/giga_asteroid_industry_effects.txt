
giga_asteroid_industry_spawn_game_start_candidates = {
    if = {
        limit = {
            not = { has_global_flag = giga_spawned_asteroid_industry_candidates }
        }

        event_target:global_event_country = {
            set_variable = {
                which = giga_asteroid_industry_asteroid_count
                value = 0
            }

            # set up per type variables
            giga_asteroid_industry_setup_step_1 = { type = alloys }

            every_galaxy_planet = {
                if = {
                    limit = {
                        is_asteroid = yes
                        is_moon = no
                    }
                    prev = {
                        change_variable = {
                            which = giga_asteroid_industry_asteroid_count
                            value = 1
                        }
                    }
                }

                # check and count up, set flags for perfect
                giga_asteroid_industry_setup_step_2 = { type = alloys }
            }

            giga_asteroid_industry_setup_step_3 = { type = alloys }

            every_galaxy_planet = {

            }

            clear_variable = giga_asteroid_industry_perfect_candidate_alloys
            clear_variable = giga_asteroid_industry_perfect_candidate_consumer_goods
            clear_variable = giga_asteroid_industry_perfect_candidate_energy
            clear_variable = giga_asteroid_industry_perfect_candidate_food
            clear_variable = giga_asteroid_industry_perfect_candidate_supertensiles
        }
    }
}

# set up per type variables
giga_asteroid_industry_setup_step_1 = {
    set_variable = {
        which = giga_asteroid_industry_perfect_candidate_$type$
        value = 0
    }
    set_variable = {
        which = giga_asteroid_industry_candidate_$type$
        value = 0
    }
}

# check and count up, set flags for perfect
giga_asteroid_industry_setup_step_2 = {
    if = {
        limit = {
            giga_asteroid_industry_perfect_candidate_$type$ = yes
        }
        prev = {
            change_variable = {
                which = giga_asteroid_industry_perfect_candidate_$type$
                value = 1
            }
        }
        set_planet_flag = giga_asteroid_industry_candidate_$type$
    }
    else_if = {
        limit = {
            giga_asteroid_industry_candidate_$type$ = yes
        }
        prev = {
            change_variable = {
                which = giga_asteroid_industry_candidate_$type$
                value = 1
            }
        }
    }
}

# math between sweeps
giga_asteroid_industry_setup_step_3 = {

}