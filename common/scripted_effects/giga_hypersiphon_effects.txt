
giga_create_shroud_cow_country = {
    optimize_memory
    if = {
        limit = { NOT = { exists = event_target:giga_shroud_cow_country } }
        create_country = {
            name = NAME_Giga_Hypersiphon_Cows
            type = giga_hypersiphon_cows
            flag = {
                icon = {
                    category = "zoological"
                    file = "flag_zoological_1.dds"
                }
                background= {
                    category = "backgrounds"
                    file = circle.dds
                }
                colors={
                    "bright_purple"
                    "purple"
                    "null"
                    "null"
                }
            }
            effect = {
                save_global_event_target_as = giga_shroud_cow_country
            }
        }
    }
}

# mooooo
giga_establish_shroud_cow_communications = {
    establish_communications_no_message = event_target:giga_shroud_cow_country
}

giga_spawn_shroud_cows = {
    giga_create_shroud_cow_country = yes

    random_list = {
        1 = { giga_spawn_shroud_cow_fleet_1 = yes }
        1 = { giga_spawn_shroud_cow_fleet_2 = yes }
        1 = { giga_spawn_shroud_cow_fleet_3 = yes }
        1 = { giga_spawn_shroud_cow_fleet_4 = yes }
        1 = { giga_spawn_shroud_cow_fleet_5 = yes }
    }
}

giga_spawn_shroud_cow_fleet_1 = {
    create_fleet = {
        name = NAME_Giga_Hypersiphon_Cows_Fleet
        settings = { spawn_debris = no }
        effect = {
            set_owner = event_target:giga_shroud_cow_country
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            set_location = prev
            set_fleet_stance = passive
            set_aggro_range_measure_from = return_point
            set_aggro_range = 0
            set_fleet_flag = hypersiphon_cows
            queue_actions = {
                repeat = {
                    wait = {
                        duration = 5
                        random = 120
                    }
                    find_random_planet = {
                        found_planet = {
                            move_to = this
                        }
                    }
                }
            }
        }
    }
}

giga_spawn_shroud_cow_fleet_2 = {
    create_fleet = {
        name = NAME_Giga_Hypersiphon_Cows_Fleet
        settings = { spawn_debris = no }
        effect = {
            set_owner = event_target:giga_shroud_cow_country
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            set_location = prev
            set_fleet_stance = passive
            set_aggro_range_measure_from = return_point
            set_aggro_range = 0
            set_fleet_flag = hypersiphon_cows
            queue_actions = {
                repeat = {
                    wait = {
                        duration = 5
                        random = 120
                    }
                    find_random_planet = {
                        found_planet = {
                            move_to = this
                        }
                    }
                }
            }
        }
    }
}

giga_spawn_shroud_cow_fleet_3 = {
    create_fleet = {
        name = NAME_Giga_Hypersiphon_Cows_Fleet
        settings = { spawn_debris = no }
        effect = {
            set_owner = event_target:giga_shroud_cow_country
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            set_location = prev
            set_fleet_stance = passive
            set_aggro_range_measure_from = return_point
            set_aggro_range = 0
            set_fleet_flag = hypersiphon_cows
            queue_actions = {
                repeat = {
                    wait = {
                        duration = 5
                        random = 120
                    }
                    find_random_planet = {
                        found_planet = {
                            move_to = this
                        }
                    }
                }
            }
        }
    }
}

giga_spawn_shroud_cow_fleet_4 = {
    create_fleet = {
        name = NAME_Giga_Hypersiphon_Cows_Fleet
        settings = { spawn_debris = no }
        effect = {
            set_owner = event_target:giga_shroud_cow_country
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Calf
            }
            set_location = prev
            set_fleet_stance = passive
            set_aggro_range_measure_from = return_point
            set_aggro_range = 0
            set_fleet_flag = hypersiphon_cows
            queue_actions = {
                repeat = {
                    wait = {
                        duration = 5
                        random = 120
                    }
                    find_random_planet = {
                        found_planet = {
                            move_to = this
                        }
                    }
                }
            }
        }
    }
}

giga_spawn_shroud_cow_fleet_5 = {
    create_fleet = {
        name = NAME_Giga_Hypersiphon_Cows_Fleet
        settings = { spawn_debris = no }
        effect = {
            set_owner = event_target:giga_shroud_cow_country
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Cow
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Bull
            }
            create_ship = {
                design = NAME_Giga_Hypersiphon_Tiyanki_Hatchling
            }
            set_location = prev
            set_fleet_stance = passive
            set_aggro_range_measure_from = return_point
            set_aggro_range = 0
            set_fleet_flag = hypersiphon_cows
            queue_actions = {
                repeat = {
                    wait = {
                        duration = 5
                        random = 120
                    }
                    find_random_planet = {
                        found_planet = {
                            move_to = this
                        }
                    }
                }
            }
        }
    }
}