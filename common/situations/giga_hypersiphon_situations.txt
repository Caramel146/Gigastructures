giga_situation_hypersiphon_tracker = {
    inline_script = situations/giga_targeted_event_situation_boilerplate

    on_monthly = {
        events = {
            giga_hypersiphon.001
        }
    }
}

@instability_per_stage = 200

giga_situation_hypersiphon_instability = {
    picture = GFX_evt_wormhole
    category = negative

    complete_icon = GFX_situation_outcome_giga_hypersiphon
    complete_icon_frame = GFX_situation_outcome_frame_red

    fail_icon = GFX_situation_outcome_giga_calm
    fail_icon_frame = GFX_situation_outcome_frame_green

    on_progress_complete = {}
    on_fail = {}

    stages = {
        stage_1 = {
            icon = GFX_situation_stage_giga_portal
            icon_background = GFX_situation_stage_frame_blue
            end = @[1 * instability_per_stage]
        }
        stage_2 = {
            icon = GFX_situation_stage_giga_portal
            icon_background = GFX_situation_stage_frame_green
            end = @[2 * instability_per_stage]
        }
        stage_3 = {
            icon = GFX_situation_stage_giga_portal
            icon_background = GFX_giga_situation_stage_frame_yellow
            end = @[3 * instability_per_stage]
        }
        stage_4 = {
            icon = GFX_situation_stage_giga_portal
            icon_background = GFX_giga_situation_stage_frame_orange
            end = @[4 * instability_per_stage]
        }
        stage_5 = {
            icon = GFX_situation_stage_giga_portal
            icon_background = GFX_situation_stage_frame_red
            end = @[5 * instability_per_stage]
        }
    }

    monthly_progress = {
        base = 0
        modifier = {
            desc = giga_situation_hypersiphon_instability_progress_instability
            add = owner.modifier:giga_shroud_conduit_instability
        }

        modifier = {
            desc = giga_situation_hypersiphon_instability_progress_decay
            owner = {
                check_modifier_value = {
                    modifier = giga_shroud_conduit_instability
                    value <= 0
                }
            }
            subtract = @[0.02 * instability_per_stage]
        }
    }

    approach = {
        name = giga_situation_hypersiphon_instability_approach_neutral
        icon_background = GFX_situation_approach_bg_yellow
        icon = GFX_situation_approach_balance_sheet
    }
}